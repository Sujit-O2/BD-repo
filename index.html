<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday</title>
    <style>
        /* Reset default styles */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { width: 100%; height: 100%; overflow: hidden; background: #000; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }

        /* Background Video Styling */
        #background-video {
            position: fixed; top: 50%; left: 50%; min-width: 100%; min-height: 100%; width: auto; height: auto;
            transform: translate(-50%, -50%); background-size: cover; opacity: .5; z-index: 0;
        }

        /* Confetti Canvas */
        #effectCanvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 1;
        }

        /* Floating Photos */
        .floating-photos {
            position: relative; width: 100%; height: 100%; z-index: 2; opacity: .6;
        }
        .photo {
            position: absolute; width: 150px; border: 3px solid #fff; border-radius: 10px; object-fit: cover;
        }

        /* Floating Comments */
        #comments-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; }
        .comment {
            position: absolute; white-space: nowrap; color: #fff; font-size: 1.2rem;
            animation: floatComment 15s linear infinite; z-index: 3; pointer-events: none;
        }
        @keyframes floatComment {
            0% { left: 100%; }
            100% { left: -100%; }
        }

        /* Audio Player */
        #background-audio { position: fixed; bottom: 10px; left: 50%; transform: translateX(-50%); z-index: 5; }
    </style>
</head>
<body>
    <!-- Background Video -->
    <video id="background-video" autoplay muted loop playsinline src="twinkel1.mp4"></video>

    <!-- Confetti Canvas -->
    <canvas id="effectCanvas"></canvas>

    <!-- Floating Photos -->
    <div class="floating-photos">
        <img src="img1.jpg" alt="Photo 1" class="photo">
        <img src="img2.jpg" alt="Photo 2" class="photo">
        <img src="img3.jpg" alt="Photo 3" class="photo">
        <img src="img4.jpg" alt="Photo 4" class="photo">
        <img src="img5.jpg" alt="Photo 5" class="photo">
        <img src="img6.jpg" alt="Photo 6" class="photo">
    </div>

    <!-- Floating Comments -->
    <div id="comments-container"></div>

    <!-- Background Audio -->
    <audio id="background-audio" src="bgaudio.mp3" loop></audio>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // Play audio on first user interaction
        document.addEventListener('click', () => document.getElementById('background-audio').play(), { once: true });
        document.getElementById('background-audio').play();

        // Canvas Confetti Setup
        const canvas = document.getElementById('effectCanvas');
        const ctx = canvas.getContext('2d');
        let W = canvas.width = window.innerWidth;
        let H = canvas.height = window.innerHeight;
        window.addEventListener('resize', () => { W = canvas.width = window.innerWidth; H = canvas.height = window.innerHeight; });

        class Confetti {
            constructor() {
                this.x = Math.random() * W;
                this.y = Math.random() * -H;
                this.size = Math.random() * 8 + 4;
                this.speed = Math.random() * 3 + 2;
                this.angle = Math.random() * 360;
                this.spin = Math.random() * 0.1 - 0.05;
                this.color = `hsl(${Math.random() * 360}, 100%, 50%)`;
            }
            update() {
                this.y += this.speed;
                this.angle += this.spin;
                if (this.y > H) { this.y = -this.size; this.x = Math.random() * W; }
            }
            draw() {
                ctx.save();
                ctx.translate(this.x, this.y);
                ctx.rotate(this.angle);
                ctx.fillStyle = this.color;
                ctx.fillRect(-this.size/2, -this.size/2, this.size, this.size);
                ctx.restore();
            }
        }

        const confettiCount = 150;
        const confettis = Array.from({ length: confettiCount }, () => new Confetti());
        (function animateConfetti() {
            ctx.clearRect(0, 0, W, H);
            confettis.forEach(c => { c.update(); c.draw(); });
            requestAnimationFrame(animateConfetti);
        })();

        // Floating Comments
        const comments = [
            "Happy Birthday! Twinkle", "Wishing you all the joy in the world!",
            "May your day be as special as you are!", "Every moment with you is a treasure.",
            "Hope all your dreams come true!", "You deserve all the love and happiness in the world!",
            "To many more celebrations together!", "You're simply the best!",
            "Sending you lots of love today!", "Let's make this day unforgettable!",
            "Time to shine and party!", "Blow out the candles!",
            "Your presence in my life is the greatest gift I've ever received.",
            "Cheers to your special day!", "Keep reaching for the stars!",
            "Another year, another adventure!", "Embrace all the joy today brings!",
            "Today is your time to sparkle!", "Live it up, it's your birthday!"
        ];
        const commentsContainer = document.getElementById('comments-container');
        function spawnComment() {
            const text = comments[Math.floor(Math.random() * comments.length)];
            const comment = document.createElement('div');
            comment.className = 'comment';
            comment.textContent = text;
            comment.style.top = Math.random() * (H - 40) + 'px';
            commentsContainer.appendChild(comment);
            setTimeout(() => comment.remove(), 15000);
        }
        setInterval(spawnComment, 2000);

        // Randomly moving photos
        const photos = document.querySelectorAll('.photo');
        photos.forEach(photo => {
            function movePhoto() {
                const maxX = W - 150;
                const maxY = H - 150;
                const randomX = Math.random() * maxX;
                const randomY = Math.random() * maxY;
                const duration = 2 + Math.random() * 10;
                const randomAngle = (Math.random() - 0.5) * 60;
                photo.style.transition = `transform ${duration}s ease-in-out`;
                photo.style.transform = `translate(${randomX}px, ${randomY}px) rotate(${randomAngle}deg)`;
                setTimeout(movePhoto, duration * 1000);
            }
            setTimeout(movePhoto, Math.random() * 3000);
        });
    });
    </script>
</body>
</html>
